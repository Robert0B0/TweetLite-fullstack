{"version":3,"sources":["logo.svg","tweets/components.js","lookup/components.js","App.js","index.js"],"names":["TweetsComponent","props","textAreaRef","React","createRef","useState","newTweets","setNewTweets","className","onSubmit","event","preventDefault","newVal","current","value","console","log","tempNewTweets","unshift","content","likes","id","required","ref","type","TweetsList","tweetsInit","setTweetsInit","tweets","setTweets","useEffect","final","concat","length","callback","xhr","XMLHttpRequest","responseType","open","onload","response","status","onerror","e","msessage","send","loadTweets","alert","map","item","index","Tweet","tweet","ActionBtn","action","display","setLikes","userLike","setuserLike","actionDisplay","onClick","App","src","logo","alt","href","target","rel","document","getElementById","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.0ffbd2a6.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.6ce24c58.svg\";","import React from \"react\";\r\nimport { loadTweets } from \"../lookup\";\r\nimport { useEffect, useState } from \"react\";\r\n\r\nexport function TweetsComponent(props) {\r\n\tconst textAreaRef = React.createRef();\r\n\tconst [newTweets, setNewTweets] = useState([]);\r\n\tconst handleSubmit = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tconst newVal = textAreaRef.current.value;\r\n\t\tconsole.log(newVal);\r\n\t\tlet tempNewTweets = [...newTweets];\r\n\t\ttempNewTweets.unshift({\r\n\t\t\t//change this to a server side call\r\n\t\t\tcontent: newVal,\r\n\t\t\tlikes: 0,\r\n\t\t\tid: 123121,\r\n\t\t});\r\n\t\tsetNewTweets(tempNewTweets);\r\n\t\ttextAreaRef.current.value = \"\";\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={props.className}>\r\n\t\t\t<div className=\"col-12 mb-3\">\r\n\t\t\t\t<form onSubmit={handleSubmit}>\r\n\t\t\t\t\t<textarea\r\n\t\t\t\t\t\trequired={true}\r\n\t\t\t\t\t\tref={textAreaRef}\r\n\t\t\t\t\t\tclassName=\"form-control\"\r\n\t\t\t\t\t></textarea>\r\n\t\t\t\t\t<button type=\"submit\" className=\"btn-success my-3\">\r\n\t\t\t\t\t\tTweet\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</form>\r\n\t\t\t</div>\r\n\t\t\t<TweetsList newTweets={newTweets} />\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport function TweetsList(props) {\r\n\tconst [tweetsInit, setTweetsInit] = useState([{ content: \"default\" }]);\r\n\tconst [tweets, setTweets] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst final = [...props.newTweets].concat(tweetsInit);\r\n\t\tif (final.length !== tweets.length) {\r\n\t\t\tsetTweets(final);\r\n\t\t}\r\n\t}, [props.newTweets, tweets, tweetsInit]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst myCallback = (response, status) => {\r\n\t\t\tif (status === 200) {\r\n\t\t\t\tsetTweetsInit(response);\r\n\t\t\t} else {\r\n\t\t\t\talert(\"There was an error\");\r\n\t\t\t}\r\n\t\t};\r\n\t\tloadTweets(myCallback);\r\n\t}, []);\r\n\r\n\treturn tweets.map((item, index) => {\r\n\t\treturn (\r\n\t\t\t<Tweet\r\n\t\t\t\ttweet={item}\r\n\t\t\t\tclassName=\"my-5 py-5 border bg-white text-dark\"\r\n\t\t\t\tkey={`${index}-{item.id}`}\r\n\t\t\t/>\r\n\t\t);\r\n\t});\r\n}\r\n\r\nfunction handleTweetActionBtn() {}\r\n\r\nexport function Tweet(props) {\r\n\tconst { tweet } = props;\r\n\tconst className = props.className\r\n\t\t? props.className\r\n\t\t: \"col-10 mx-auto col-md-6\";\r\n\treturn (\r\n\t\t<div className={className}>\r\n\t\t\t<p>\r\n\t\t\t\t{tweet.id} - {tweet.content}\r\n\t\t\t</p>\r\n\t\t\t<div className=\"btn btn-group\">\r\n\t\t\t\t<ActionBtn tweet={tweet} action={{ type: \"like\", display: \"Like\" }} />\r\n\t\t\t\t<ActionBtn\r\n\t\t\t\t\ttweet={tweet}\r\n\t\t\t\t\taction={{ type: \"unlike\", display: \"Unlike\" }}\r\n\t\t\t\t/>\r\n\t\t\t\t<ActionBtn\r\n\t\t\t\t\ttweet={tweet}\r\n\t\t\t\t\taction={{ type: \"retweet\", display: \"Retweet\" }}\r\n\t\t\t\t/>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nexport function ActionBtn(props) {\r\n\tconst { tweet, action } = props;\r\n\tconst [likes, setLikes] = useState(tweet.likes ? tweet.likes : 0);\r\n\tconst [userLike, setuserLike] = useState(\r\n\t\ttweet.userLike === true ? true : false\r\n\t);\r\n\tconst className = props.className\r\n\t\t? props.className\r\n\t\t: \"btn btn-success btn-sm\";\r\n\tconst actionDisplay = action.display ? action.display : \"Action\";\r\n\tconst display =\r\n\t\taction.type === \"like\" ? `${likes} ${actionDisplay}` : actionDisplay;\r\n\r\n\tconst handleClick = (event) => {\r\n\t\tevent.preventDefault();\r\n\t\tif (action.type === \"like\") {\r\n\t\t\tif (userLike === true) {\r\n\t\t\t\t// perhapse I unlike it\r\n\t\t\t\tsetuserLike(false);\r\n\t\t\t\tsetLikes(likes - 1);\r\n\t\t\t} else {\r\n\t\t\t\tsetuserLike(true);\r\n\t\t\t\tsetLikes(likes + 1);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<button className={className} onClick={handleClick}>\r\n\t\t\t{display}\r\n\t\t</button>\r\n\t);\r\n}\r\n","export function loadTweets(callback) {\r\n\tconst xhr = new XMLHttpRequest(); // let xhr = SomeClass()\r\n\tconst method = \"GET\"; // \"POST\"\r\n\tconst url = \"http://127.0.0.1:8000/api/tweets\";\r\n\tconst responseType = \"json\";\r\n\r\n\txhr.responseType = responseType;\r\n\txhr.open(method, url);\r\n\txhr.onload = function () {\r\n\t\tcallback(xhr.response, xhr.status);\r\n\t};\r\n\txhr.onerror = function (e) {\r\n\t\tconsole.log(e);\r\n\t\tcallback({ msessage: \"The request was an error\" }, 400);\r\n\t};\r\n\txhr.send();\r\n}\r\n","import { useEffect, useState } from \"react\";\nimport logo from \"./logo.svg\";\nimport \"./App.css\";\nimport { TweetsComponent } from \"./tweets\";\n\nfunction App() {\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<header className=\"App-header\">\n\t\t\t\t<img src={logo} className=\"App-logo\" alt=\"logo\" />\n\t\t\t\t<p>\n\t\t\t\t\tEdit <code>src/App.js</code> and save to reload.\n\t\t\t\t</p>\n\t\t\t\t<div>\n\t\t\t\t\t<TweetsComponent />\n\t\t\t\t</div>\n\t\t\t\t<a\n\t\t\t\t\tclassName=\"App-link\"\n\t\t\t\t\thref=\"https://reactjs.org\"\n\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\trel=\"noopener noreferrer\"\n\t\t\t\t>\n\t\t\t\t\tLearn React\n\t\t\t\t</a>\n\t\t\t</header>\n\t\t</div>\n\t);\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { TweetsComponent } from \"./tweets\";\n\nconst appEl = document.getElementById(\"root\");\nif (appEl) {\n\tReactDOM.render(\n\t\t<React.StrictMode>\n\t\t\t<App />\n\t\t</React.StrictMode>,\n\t\tdocument.getElementById(\"root\")\n\t);\n}\n\nconst tweetsEl = document.getElementById(\"tweet-lite\");\nif (tweetsEl) {\n\tReactDOM.render(\n\t\t<React.StrictMode>\n\t\t\t<TweetsComponent />\n\t\t</React.StrictMode>,\n\t\tdocument.getElementById(\"tweet-lite\")\n\t);\n}\n"],"sourceRoot":""}